{"ast":null,"code":"var _jsxFileName = \"/media/renatha/Downloads/DEV/IFPB/contacts-ui/components/ContactLists.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useContext, useEffect, useState, useRef } from 'react';\nimport styled from 'styled-components';\nimport { VscAccount, VscDeviceMobile, VscMail, VscEdit, VscTrash } from \"react-icons/vsc\";\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AlertContext from '../context/alert/alertContext';\nimport ContactContext from '../context/contact/contactContext';\nimport ListContext from '../context/list/listContext';\nconst ContainerList = styled.div.withConfig({\n  displayName: \"ContactLists__ContainerList\",\n  componentId: \"sc-8i5ggf-0\"\n})([\"display:flex;justify-content:space-around;margin-top:5rem;\"]);\nconst CardContact = styled.div.withConfig({\n  displayName: \"ContactLists__CardContact\",\n  componentId: \"sc-8i5ggf-1\"\n})([\"border-radius:3px;border:1px solid \", \";background-color:\", \";margin-bottom:1rem;padding:1rem 2rem;svg{margin-right:1rem;}button{cursor:pointer;padding:0.4rem;}button:first-of-type{margin-right:1rem;color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";&:hover{color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";}}button:last-of-type{color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";&:hover{color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";}}input{margin:10px auto;}\"], props => props.theme.secundary, props => props.theme.lightgrey, props => props.theme.offWhite, props => props.theme.secundary, props => props.theme.secundary, props => props.theme.secundary, props => props.theme.offWhite, props => props.theme.secundary, props => props.theme.offWhite, props => props.theme.danger, props => props.theme.danger, props => props.theme.danger, props => props.theme.offWhite, props => props.theme.danger);\n\nconst ContactLists = ({\n  list\n}) => {\n  const contactRef = useRef(null);\n  const contactContext = useContext(ContactContext);\n  const alertContext = useContext(AlertContext);\n  const listContext = useContext(ListContext);\n  const {\n    setAlert\n  } = alertContext;\n  const {\n    deleteContact,\n    updateContact,\n    error\n  } = contactContext;\n  const {\n    setCurrent\n  } = listContext;\n  const {\n    0: contactToDelete,\n    1: setContactToDelete\n  } = useState({});\n  const {\n    0: contactToEdit,\n    1: setContactToEdit\n  } = useState(null);\n  const {\n    0: openDelete,\n    1: setOpenDelete\n  } = useState(false);\n  console.log(list);\n\n  const handleOpenDelete = contact => {\n    setOpenDelete(true);\n    setContactToDelete(contact);\n  };\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false);\n  };\n\n  const handleOpenEdit = contact => {\n    console.log('handle edit ', contact);\n    setContactToEdit(contact);\n    contactRef.current = contact.id;\n  };\n\n  const handleCloseEdit = contact => {\n    setContactToEdit(null);\n  };\n\n  const handleEdit = contact => {\n    console.log('HANDLE EDIT');\n\n    if (contact.name === '') {\n      setAlert('O nome não pode ficar em branco', 'danger');\n    } else {\n      console.log('contactToEdit ', contactToEdit);\n      updateContact({\n        list_id: list.id,\n        contact: contactToEdit\n      });\n\n      if (!error) {\n        setContactToEdit(null);\n        list = _objectSpread(_objectSpread({}, list), {}, {\n          contacts: list.contacts.map(contact => contact.id !== contactToEdit.id ? contact : Object.assign({}, contact, contactToEdit))\n        });\n        setCurrent(list);\n      }\n    }\n  };\n\n  const handleDelete = () => {\n    deleteContact({\n      list_id: list.id,\n      contact_id: contactToDelete.id\n    });\n\n    if (!error) {\n      setAlert('Contato deletado.', 'success');\n      list = _objectSpread(_objectSpread({}, list), {}, {\n        contacts: list.contacts.filter(contact => contact.id !== contactToDelete.id)\n      });\n      setCurrent(list);\n      setOpenDelete(false);\n    } else {\n      console.error(error);\n      setAlert(error, 'danger');\n    }\n  };\n\n  useEffect(() => {\n    console.log('error => ', error);\n  }, [error]);\n\n  const onChange = event => setContactToEdit(_objectSpread(_objectSpread({}, contactToEdit), {}, {\n    [event.target.name]: event.target.value\n  }));\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, __jsx(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, list.title), list && list.contacts.map(contact => __jsx(CardContact, {\n    key: contact.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, contactToEdit && contactRef.current === contact.id ? __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexFlow: 'column',\n      margin: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 68\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  }, __jsx(VscAccount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    style: {\n      width: '85%'\n    },\n    type: \"text\",\n    name: \"name\",\n    value: contactToEdit.name,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 35\n    }\n  })), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, __jsx(VscDeviceMobile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    style: {\n      width: '85%'\n    },\n    type: \"text\",\n    name: \"phone\",\n    value: contactToEdit.phone,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 40\n    }\n  })), __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, __jsx(VscMail, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    style: {\n      width: '85%'\n    },\n    type: \"text\",\n    name: \"email\",\n    value: contactToEdit.email,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 32\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 20\n    }\n  }, \"Salvar\"), __jsx(\"button\", {\n    onClick: handleCloseEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 64\n    }\n  }, \"Cancelar\"))) : __jsx(React.Fragment, null, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, __jsx(VscAccount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 18\n    }\n  }), contact.name), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, __jsx(VscDeviceMobile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 18\n    }\n  }), contact.phone), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, __jsx(VscMail, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 18\n    }\n  }), contact.email), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, __jsx(\"button\", {\n    onClick: () => handleOpenEdit(contact),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, __jsx(VscEdit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }), \"Editar\"), __jsx(\"button\", {\n    onClick: () => handleOpenDelete(contact),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, __jsx(VscTrash, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }), \"Remover\"))))), __jsx(Dialog, {\n    open: openDelete,\n    onClose: handleCloseDelete,\n    \"aria-labelledby\": \"responsive-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, __jsx(DialogTitle, {\n    id: \"responsive-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, `Deletar contato - ${contactToDelete.name}?`), __jsx(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    autoFocus: true,\n    onClick: handleCloseDelete,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  }, \"Cancelar\"), __jsx(Button, {\n    onClick: handleDelete,\n    color: \"primary\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, \"Deletar\"))));\n};\n\nexport default ContactLists;","map":{"version":3,"sources":["/media/renatha/Downloads/DEV/IFPB/contacts-ui/components/ContactLists.js"],"names":["React","useContext","useEffect","useState","useRef","styled","VscAccount","VscDeviceMobile","VscMail","VscEdit","VscTrash","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","AlertContext","ContactContext","ListContext","ContainerList","div","CardContact","props","theme","secundary","lightgrey","offWhite","danger","ContactLists","list","contactRef","contactContext","alertContext","listContext","setAlert","deleteContact","updateContact","error","setCurrent","contactToDelete","setContactToDelete","contactToEdit","setContactToEdit","openDelete","setOpenDelete","console","log","handleOpenDelete","contact","handleCloseDelete","handleOpenEdit","current","id","handleCloseEdit","handleEdit","name","list_id","contacts","map","Object","assign","handleDelete","contact_id","filter","onChange","event","target","value","title","display","flexFlow","margin","width","phone","email"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState, useRef } from 'react'\nimport styled from 'styled-components'\nimport { VscAccount, VscDeviceMobile, VscMail,VscEdit, VscTrash } from \"react-icons/vsc\"\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\n\nimport AlertContext from '../context/alert/alertContext'\nimport ContactContext from '../context/contact/contactContext'\nimport ListContext from '../context/list/listContext'\n\nconst ContainerList = styled.div`\n  display: flex;\n  justify-content: space-around;\n  margin-top: 5rem;\n`\n\nconst CardContact = styled.div`\n  border-radius: 3px;\n  border: 1px solid ${props => props.theme.secundary};\n  background-color: ${props => props.theme.lightgrey};\n  margin-bottom: 1rem;\n  padding: 1rem 2rem;\n\n  svg {\n    margin-right: 1rem;\n  }\n  button {\n    cursor: pointer;\n    padding: 0.4rem;\n  }\n  button:first-of-type {\n    margin-right: 1rem;\n    color: ${props => props.theme.offWhite};\n    background-color: ${props => props.theme.secundary};\n    border-radius: 3px;\n    border-color: ${props => props.theme.secundary};\n    &:hover {\n      color: ${props => props.theme.secundary};\n      background-color: ${props => props.theme.offWhite};\n      border-radius: 3px;\n      border-color: ${props => props.theme.secundary};\n    }\n  }\n\n  button:last-of-type {\n    color: ${props => props.theme.offWhite};\n    background-color: ${props => props.theme.danger};\n    border-radius: 3px;\n    border-color: ${props => props.theme.danger};\n    &:hover {\n      color: ${props => props.theme.danger};\n      background-color: ${props => props.theme.offWhite};\n      border-radius: 3px;\n      border-color: ${props => props.theme.danger};\n    }\n  }\n\n  input {\n    margin: 10px auto;\n  }\n`\n\nconst ContactLists = ({ list }) => {\n  const contactRef = useRef(null)\n  const contactContext = useContext(ContactContext)\n  const alertContext = useContext(AlertContext)\n  const listContext = useContext(ListContext)\n\n  const { setAlert } = alertContext\n  const { deleteContact, updateContact, error } = contactContext\n  const { setCurrent } = listContext\n\n  const [contactToDelete, setContactToDelete] = useState({})\n  const [contactToEdit, setContactToEdit] = useState(null)\n  const [openDelete, setOpenDelete] = useState(false)\n\n  console.log(list)\n\n  const handleOpenDelete = contact => {\n    setOpenDelete(true)\n    setContactToDelete(contact)\n  }\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false)\n  }\n\n  const handleOpenEdit = contact => {\n    console.log('handle edit ', contact)\n    setContactToEdit(contact)\n    contactRef.current = contact.id\n  }\n\n  const handleCloseEdit = contact => {\n    setContactToEdit(null)\n  }\n\n\n  const handleEdit = contact => {\n    console.log('HANDLE EDIT')\n    if (contact.name === '') {\n      setAlert('O nome não pode ficar em branco', 'danger')\n    } else {\n      console.log('contactToEdit ', contactToEdit)\n      updateContact({\n        list_id: list.id,\n        contact: contactToEdit\n      })\n      if (!error) {\n        setContactToEdit(null)\n        list = { ...list, contacts: list.contacts.map(contact => contact.id !== contactToEdit.id ? contact : Object.assign({}, contact, contactToEdit))}\n        setCurrent(list)\n      }\n    }\n\n  }\n\n  const handleDelete = () => {\n    deleteContact({\n      list_id: list.id,\n      contact_id: contactToDelete.id\n    })\n    if (!error) {\n      setAlert('Contato deletado.', 'success')\n      list = { ...list, contacts: list.contacts.filter(contact => contact.id !== contactToDelete.id)}\n      setCurrent(list)\n      setOpenDelete(false)\n    } else {\n      console.error(error)\n      setAlert(error, 'danger')\n    }\n  }\n\n  useEffect(() => {\n    console.log('error => ', error)\n  }, [error])\n\n  const onChange = event => setContactToEdit({ ...contactToEdit, [event.target.name]: event.target.value })\n\n  return (\n    <div>\n      <h3>{ list.title }</h3>\n      {\n        list && list.contacts.map(contact => (\n          <CardContact key={contact.id}>\n            { contactToEdit && contactRef.current === contact.id ? <div style={{ display: 'flex', flexFlow: 'column', margin: 'auto' }}>\n              <span><VscAccount /><input style={{ width: '85%' }} type='text' name='name' value={contactToEdit.name} onChange={onChange} /></span>\n              <span><VscDeviceMobile /><input style={{ width: '85%' }} type='text' name='phone' value={contactToEdit.phone} onChange={onChange} /></span>\n              <span><VscMail /><input style={{ width: '85%' }} type='text' name='email' value={contactToEdit.email} onChange={onChange} /></span>\n              <div><button onClick={handleEdit}>Salvar</button><button onClick={handleCloseEdit}>Cancelar</button></div>\n            </div>\n              : <>\n              <p><VscAccount />{contact.name}</p>\n              <p><VscDeviceMobile />{contact.phone}</p>\n              <p><VscMail />{contact.email}</p>\n              <p>\n                <button onClick={() => handleOpenEdit(contact)} >\n                  <VscEdit />Editar\n                </button>\n                <button onClick={() => handleOpenDelete(contact)} >\n                  <VscTrash />Remover\n                </button>\n              </p>\n            </>\n            }\n          </CardContact>\n        ))\n      }\n      <Dialog\n        open={openDelete}\n        onClose={handleCloseDelete}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{`Deletar contato - ${contactToDelete.name}?`}</DialogTitle>\n        <DialogActions>\n          <Button autoFocus onClick={handleCloseDelete} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={handleDelete} color=\"primary\" autoFocus>\n            Deletar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default ContactLists\n"]},"metadata":{},"sourceType":"module"}