{"ast":null,"code":"import _defineProperty from \"/media/renatha/Downloads/DEV/IFPB/contacts-ui/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/media/renatha/Downloads/DEV/IFPB/contacts-ui/components/ContactLists.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { VscAccount, VscDeviceMobile, VscMail, VscEdit, VscTrash } from \"react-icons/vsc\";\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AlertContext from '../context/alert/alertContext';\nimport ContactContext from '../context/contact/contactContext';\nimport ListContext from '../context/list/listContext';\nvar ContainerList = styled.div.withConfig({\n  displayName: \"ContactLists__ContainerList\",\n  componentId: \"sc-8i5ggf-0\"\n})([\"display:flex;justify-content:space-around;margin-top:5rem;\"]);\nvar CardContact = styled.div.withConfig({\n  displayName: \"ContactLists__CardContact\",\n  componentId: \"sc-8i5ggf-1\"\n})([\"border-radius:3px;border:1px solid \", \";background-color:\", \";margin-bottom:1rem;padding:1rem 2rem;svg{margin-right:1rem;}button{cursor:pointer;padding:0.4rem;}button:first-of-type{margin-right:1rem;color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";&:hover{color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";}}button:last-of-type{color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";&:hover{color:\", \";background-color:\", \";border-radius:3px;border-color:\", \";}}\"], function (props) {\n  return props.theme.secundary;\n}, function (props) {\n  return props.theme.lightgrey;\n}, function (props) {\n  return props.theme.offWhite;\n}, function (props) {\n  return props.theme.secundary;\n}, function (props) {\n  return props.theme.secundary;\n}, function (props) {\n  return props.theme.secundary;\n}, function (props) {\n  return props.theme.offWhite;\n}, function (props) {\n  return props.theme.secundary;\n}, function (props) {\n  return props.theme.offWhite;\n}, function (props) {\n  return props.theme.danger;\n}, function (props) {\n  return props.theme.danger;\n}, function (props) {\n  return props.theme.danger;\n}, function (props) {\n  return props.theme.offWhite;\n}, function (props) {\n  return props.theme.danger;\n});\n_c = CardContact;\n\nvar ContactLists = function ContactLists(_ref) {\n  _s();\n\n  var list = _ref.list;\n  var contactContext = useContext(ContactContext);\n  var alertContext = useContext(AlertContext);\n  var listContext = useContext(ListContext);\n  var setAlert = alertContext.setAlert;\n  var deleteContact = contactContext.deleteContact,\n      updateContact = contactContext.updateContact,\n      error = contactContext.error;\n  var setCurrent = listContext.setCurrent;\n\n  var _useState = useState({}),\n      contactToDelete = _useState[0],\n      setContactToDelete = _useState[1];\n\n  var _useState2 = useState(null),\n      contactToEdit = _useState2[0],\n      setContactToEdit = _useState2[1];\n\n  var _useState3 = useState(false),\n      openDelete = _useState3[0],\n      setOpenDelete = _useState3[1];\n\n  console.log(list);\n\n  var handleOpenDelete = function handleOpenDelete(contact) {\n    setOpenDelete(true);\n    setContactToDelete(contact);\n  };\n\n  var handleCloseDelete = function handleCloseDelete() {\n    setOpenDelete(false);\n  };\n\n  var handleEdit = function handleEdit(contact) {\n    console.log('HANDLE EDIT');\n\n    if (contact.name === '') {\n      setAlert('O nome não pode ficar em branco', 'danger');\n    } else {\n      updateContact(_objectSpread({\n        list_id: list.id\n      }, contactToEdit));\n    }\n  };\n\n  var handleOpenEdit = function handleOpenEdit(contact) {\n    console.log('handle edit ', contact);\n    setContactToEdit(contact);\n  };\n\n  var handleDelete = function handleDelete() {\n    deleteContact({\n      list_id: list.id,\n      contact_id: contactToDelete.id\n    });\n\n    if (!error) {\n      setAlert('Contato deletado.', 'success');\n      list = _objectSpread(_objectSpread({}, list), {}, {\n        contacts: list.contacts.filter(function (contact) {\n          return contact.id !== contactToDelete.id;\n        })\n      });\n      setCurrent(list);\n      setOpenDelete(false);\n    } else {\n      console.error(error);\n      setAlert(error, 'danger');\n    }\n  };\n\n  useEffect(function () {\n    console.log('error => ', error);\n  }, [error]);\n\n  var onChange = function onChange(event) {\n    return setContactToEdit(_objectSpread(_objectSpread({}, list), {}, _defineProperty({}, event.target.name, event.target.value)));\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }\n  }, __jsx(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, list.title), list && list.contacts.map(function (contact) {\n    return __jsx(CardContact, {\n      key: contact.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, !contactToEdit ? __jsx(React.Fragment, null, __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, __jsx(VscAccount, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 18\n      }\n    }), contact.name), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, __jsx(VscDeviceMobile, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 18\n      }\n    }), contact.phone), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, __jsx(VscMail, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 18\n      }\n    }), contact.email), __jsx(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, __jsx(\"button\", {\n      onClick: function onClick() {\n        return handleOpenEdit(contact);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, __jsx(VscEdit, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }), \"Editar\"), __jsx(\"button\", {\n      onClick: function onClick() {\n        return handleOpenDelete(contact);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, __jsx(VscTrash, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }), \"Remover\"))) : __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        flexFlow: 'column'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, __jsx(VscAccount, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }), __jsx(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: contactToEdit.name,\n      onChange: onChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 35\n      }\n    })), __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, __jsx(VscDeviceMobile, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), __jsx(\"input\", {\n      type: \"text\",\n      name: \"phone\",\n      value: contactToEdit.phone,\n      onChange: onChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 40\n      }\n    })), __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }, __jsx(VscMail, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }), __jsx(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      value: contactToEdit.email,\n      onChange: onChange,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 32\n      }\n    })), __jsx(\"button\", {\n      onClick: handleEdit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }, \"Salvar\")));\n  }), __jsx(Dialog, {\n    open: openDelete,\n    onClose: handleCloseDelete,\n    \"aria-labelledby\": \"responsive-dialog-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, __jsx(DialogTitle, {\n    id: \"responsive-dialog-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, \"Deletar contato - \".concat(contactToDelete.name, \"?\")), __jsx(DialogActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    autoFocus: true,\n    onClick: handleCloseDelete,\n    color: \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, \"Cancelar\"), __jsx(Button, {\n    onClick: handleDelete,\n    color: \"primary\",\n    autoFocus: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"Deletar\"))));\n};\n\n_s(ContactLists, \"xaMec4rx/dSOUM1KUThvdlDOXrY=\");\n\n_c2 = ContactLists;\nexport default ContactLists;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CardContact\");\n$RefreshReg$(_c2, \"ContactLists\");","map":{"version":3,"sources":["/media/renatha/Downloads/DEV/IFPB/contacts-ui/components/ContactLists.js"],"names":["React","useContext","useEffect","useState","styled","VscAccount","VscDeviceMobile","VscMail","VscEdit","VscTrash","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","AlertContext","ContactContext","ListContext","ContainerList","div","CardContact","props","theme","secundary","lightgrey","offWhite","danger","ContactLists","list","contactContext","alertContext","listContext","setAlert","deleteContact","updateContact","error","setCurrent","contactToDelete","setContactToDelete","contactToEdit","setContactToEdit","openDelete","setOpenDelete","console","log","handleOpenDelete","contact","handleCloseDelete","handleEdit","name","list_id","id","handleOpenEdit","handleDelete","contact_id","contacts","filter","onChange","event","target","value","title","map","phone","email","display","flexFlow"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { VscAccount, VscDeviceMobile, VscMail,VscEdit, VscTrash } from \"react-icons/vsc\"\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\n\nimport AlertContext from '../context/alert/alertContext'\nimport ContactContext from '../context/contact/contactContext'\nimport ListContext from '../context/list/listContext'\n\nconst ContainerList = styled.div`\n  display: flex;\n  justify-content: space-around;\n  margin-top: 5rem;\n`\n\nconst CardContact = styled.div`\n  border-radius: 3px;\n  border: 1px solid ${props => props.theme.secundary};\n  background-color: ${props => props.theme.lightgrey};\n  margin-bottom: 1rem;\n  padding: 1rem 2rem;\n\n  svg {\n    margin-right: 1rem;\n  }\n  button {\n    cursor: pointer;\n    padding: 0.4rem;\n  }\n  button:first-of-type {\n    margin-right: 1rem;\n    color: ${props => props.theme.offWhite};\n    background-color: ${props => props.theme.secundary};\n    border-radius: 3px;\n    border-color: ${props => props.theme.secundary};\n    &:hover {\n      color: ${props => props.theme.secundary};\n      background-color: ${props => props.theme.offWhite};\n      border-radius: 3px;\n      border-color: ${props => props.theme.secundary};\n    }\n  }\n\n  button:last-of-type {\n    color: ${props => props.theme.offWhite};\n    background-color: ${props => props.theme.danger};\n    border-radius: 3px;\n    border-color: ${props => props.theme.danger};\n    &:hover {\n      color: ${props => props.theme.danger};\n      background-color: ${props => props.theme.offWhite};\n      border-radius: 3px;\n      border-color: ${props => props.theme.danger};\n    }\n  }\n`\n\nconst ContactLists = ({ list }) => {\n  const contactContext = useContext(ContactContext)\n  const alertContext = useContext(AlertContext)\n  const listContext = useContext(ListContext)\n\n  const { setAlert } = alertContext\n  const { deleteContact, updateContact, error } = contactContext\n  const { setCurrent } = listContext\n\n  const [contactToDelete, setContactToDelete] = useState({})\n  const [contactToEdit, setContactToEdit] = useState(null)\n  const [openDelete, setOpenDelete] = useState(false)\n\n  console.log(list)\n\n  const handleOpenDelete = contact => {\n    setOpenDelete(true)\n    setContactToDelete(contact)\n  }\n\n  const handleCloseDelete = () => {\n    setOpenDelete(false)\n  }\n\n\n  const handleEdit = contact => {\n    console.log('HANDLE EDIT')\n    if (contact.name === '') {\n      setAlert('O nome não pode ficar em branco', 'danger')\n    } else {\n      updateContact({\n        list_id: list.id,\n        ...contactToEdit\n      })\n    }\n  }\n\n  const handleOpenEdit = contact => {\n    console.log('handle edit ', contact)\n    setContactToEdit(contact)\n  }\n\n  const handleDelete = () => {\n    deleteContact({\n      list_id: list.id,\n      contact_id: contactToDelete.id\n    })\n    if (!error) {\n      setAlert('Contato deletado.', 'success')\n      list = { ...list, contacts: list.contacts.filter(contact => contact.id !== contactToDelete.id)}\n      setCurrent(list)\n      setOpenDelete(false)\n    } else {\n      console.error(error)\n      setAlert(error, 'danger')\n    }\n  }\n\n  useEffect(() => {\n    console.log('error => ', error)\n  }, [error])\n\n  const onChange = event => setContactToEdit({ ...list, [event.target.name]: event.target.value })\n\n  return (\n    <div>\n      <h3>{ list.title }</h3>\n      {\n        list && list.contacts.map(contact => (\n          <CardContact key={contact.id}>\n            { !contactToEdit ? <>\n              <p><VscAccount />{contact.name}</p>\n              <p><VscDeviceMobile />{contact.phone}</p>\n              <p><VscMail />{contact.email}</p>\n              <p>\n                <button onClick={() => handleOpenEdit(contact)} >\n                  <VscEdit />Editar\n                </button>\n                <button onClick={() => handleOpenDelete(contact)} >\n                  <VscTrash />Remover\n                </button>\n              </p>\n            </>\n            : <div style={{ display: 'flex', flexFlow: 'column' }}>\n              <span><VscAccount /><input type='text' name='name' value={contactToEdit.name} onChange={onChange} /></span>\n              <span><VscDeviceMobile /><input type='text' name='phone' value={contactToEdit.phone} onChange={onChange} /></span>\n              <span><VscMail /><input type='text' name='email' value={contactToEdit.email} onChange={onChange} /></span>\n              <button onClick={handleEdit}>Salvar</button>\n            </div>}\n          </CardContact>\n        ))\n      }\n      <Dialog\n        open={openDelete}\n        onClose={handleCloseDelete}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">{`Deletar contato - ${contactToDelete.name}?`}</DialogTitle>\n        <DialogActions>\n          <Button autoFocus onClick={handleCloseDelete} color=\"primary\">\n            Cancelar\n          </Button>\n          <Button onClick={handleDelete} color=\"primary\" autoFocus>\n            Deletar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default ContactLists\n"]},"metadata":{},"sourceType":"module"}